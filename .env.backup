# Application Settings
APP_NAME=Legal Database API
APP_VERSION=1.0.0
APP_DESCRIPTION=Indonesian Legal Document Database with AI Integration
DEBUG=true
ENVIRONMENT=development

# Server Settings
HOST=0.0.0.0
PORT=8000
WORKERS=1

ELASTIC_SEARCH=http://2.56.99.109:9200
BERT_API_URL=http://151.80.20.199:8000

LLAMA_CLOUD_API_KEY=llx-imTBVIMrmGPv4U4Aa6M7xIUPlfk8GA9xqithqKHQj3Bk8oUs

# From open router
OPENAI_API_KEY=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

JINA_API_KEY=jina_700abc096bd44063adf36fae3ce54064UMnKqEgM9-XQfhG2bamVCdTsr0M0
JINA_EMBED_BASE=https://api.jina.ai/v1/embeddings
JINA_EMBED_MODEL=jina-embeddings-v4
JINA_RERANK_BASE=https://api.jina.ai/v1/rerank
JINA_RERANK_MODEL=jina-reranker-v2-base-multilingual
EMBEDDING_DIM=384

# LLM Providers
LLM_PROVIDER=gemini
GEMINI_API_KEY=your_gemini_api_key_here
OPENAI_API_KEY=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
OPENAI_PROVIDER=
OPENAI_MODEL=
ANTHROPIC_API_KEY=your_anthropic_api_key_here

# System Configuration
EMBED_BATCH_SIZE=16
RERANK_PROVIDER=jina
ENABLE_STREAM=true
LOG_LEVEL=INFO


# Database Settings - PostgreSQL 17 on port 5433
# db name = graph_rag
# db_user = alkindivv
# db_password = Batam123

# this command to set database connection from lokal to VPS
# "ssh -L 5432:localhost:5432 root@2.56.99.109"
# then enter command below to check
# psql -h localhost -p 5432 -U alkindivv -d graph_rag
DATABASE_URL=postgresql://postgres:Batam123@localhost:5432/postgres
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20
DATABASE_POOL_TIMEOUT=30
DATABASE_POOL_RECYCLE=3600

JOURNAL_EMBEDDING_MODEL=
JOURNAL_EMBEDDING_DIMENSIONS=768

# NEO4J
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=postgres
POSTGRES_USER=postgres
POSTGRES_PASSWORD=Batam123
POSTGRES_SSL_MODE=postgres


QDRANT_HOST=151.80.20.199
QDRANT_PORT=6333
QDRANT_GRPC_PORT=6334
QDRANT_COLLECTION_NAME=legal_documents
# Maximum tokens per chunk
MAX_TOKENS_PER_CHUNK=1500
# Search result limit
DEFAULT_SEARCH_LIMIT=10

# Enable gRPC for faster communication (recommended: true)
USE_GRPC=true
# Maximum worker threads for parallel processing (auto-detect: leave empty)
MAX_WORKERS=""

# Batch size for embedding generation (recommended: 50)
EMBEDDING_BATCH_SIZE=50

# Batch size for vector upload (recommended: 100)
UPLOAD_BATCH_SIZE=100

# üîß Pipeline Configuration
# -------------------------
# Chunking strategy (enhanced_dry recommended)
CHUNKING_STRATEGY=enhanced_dry

# Maximum tokens per chunk
MAX_TOKENS_PER_CHUNK=1500

# Overlap between chunks (tokens)
CHUNK_OVERLAP=100

# üìä Monitoring and Logging
# --------------------------
# Log level (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# Enable performance monitoring
ENABLE_PERFORMANCE_MONITORING=true

# Enable detailed timing logs
ENABLE_TIMING_LOGS=false

# üìÅ File Paths
# -------------
# Cache directory for embeddings
EMBEDDING_CACHE_DIR=./cache

# Log directory
LOG_DIR=./logs

# Test documents directory
TEST_DOCS_DIR=./test

# üõ°Ô∏è Rate Limiting and Error Handling
# ------------------------------------
# Delay between embedding API calls (seconds)
EMBEDDING_DELAY=0.1

# Maximum retries for failed operations
MAX_RETRIES=3

# Timeout for API calls (seconds)
API_TIMEOUT=60

# üéØ Legal Document Processing
# ----------------------------
# Default document type for processing
DEFAULT_DOC_TYPE=undang-undang

# Enable legal citation extraction
ENABLE_CITATION_EXTRACTION=true

# Enable legal keyword boosting
ENABLE_KEYWORD_BOOSTING=true

# Maximum keywords per chunk
MAX_KEYWORDS_PER_CHUNK=10

# üîç Search Configuration
# -----------------------
# Default search limit
DEFAULT_SEARCH_LIMIT=10

# Minimum similarity score threshold
MIN_SIMILARITY_SCORE=0.3

# Enable search result caching
ENABLE_SEARCH_CACHING=false

# Search cache TTL (seconds)
SEARCH_CACHE_TTL=3600

# üìà Advanced Performance Settings
# --------------------------------
# Indexing threshold for bulk uploads (0 = disabled during upload)
INDEXING_THRESHOLD=20000

# Memory mapping threshold (KB) for large collections
MEMMAP_THRESHOLD=200000

# Maximum segment size (KB) for optimization
MAX_SEGMENT_SIZE_KB=200000

# Default number of segments (0 = auto-detect based on CPU)
DEFAULT_SEGMENT_NUMBER=0

# HNSW index parameters
HNSW_EF_CONSTRUCT=200
HNSW_M=32

# Log directory



# AI Settings - Gemini API
GEMINI_API_KEY=AIzaSyCqIGU6zLw8xFQ9xSznMCxiicKiXifgQhQ
GEMINI_MODEL=gemini-2.0-flash-lite
GEMINI_TEMPERATURE=0.3
GEMINI_TOP_P=0.8
GEMINI_TOP_K=40
GEMINI_MAX_OUTPUT_TOKENS=4096
UNIFIED_AI_CACHE_SIZE=1000
UNIFIED_AI_CACHE_TTL_HOURS=24
UNIFIED_AI_MODEL_NAME=gemini-2.0-flash-lite
UNIFIED_AI_TEMPERATURE=0.3

HF_API_TOKEN=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

# File Upload Settings
MAX_UPLOAD_SIZE=52428800
ALLOWED_EXTENSIONS=[".pdf"]
UPLOAD_FOLDER=uploads
TEMP_FOLDER=temp

# Processing Settings
PDF_CHUNK_SIZE=1000
PDF_OVERLAP_SIZE=200
OCR_LANGUAGE=ind+eng
OCR_DPI=300
